import { useEffect, useState } from 'react'
import { useRouter, usePathname } from 'next/navigation'
import { isEmpty } from 'lodash'


const termIcons = {
    'PKW' 					: '<svg xmlns="http://www.w3.org/2000/svg" width="57" height="23" viewBox="0 0 57 23"><path d="M1.83 13.15c0 2.14 1.71 3.879 3.811 3.879h.308c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h26.589c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h3.175v-4.02c0-1.323-.687-2.528-1.794-3.141-1.803-1.001-4.658-2.195-8.017-2.195H26.144v6.63c0 .515-.41.932-.915.932a.923.923 0 0 1-.916-.932V1.867c-4.507.035-8.524 1.353-11.37 2.631a4.99 4.99 0 0 0 3.349 1.311H22.3c.505 0 .915.417.915.932 0 .515-.41.932-.915.932h-6.008c-1.941 0-3.811-.863-5.099-2.327-1.624.849-2.576 1.524-2.601 1.542a.908.908 0 0 1-.53.171H2.574c-.409 0-.742.34-.742.757v5.335zm8.983 7.986c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zm36.317 0c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zM26.144 1.926V5.81h12.55c-2.858-1.5-7.514-3.505-12.55-3.883zm-23.57 3.27H7.78C9.158 4.262 15.914 0 24.496 0c8.661 0 16.417 4.836 17.89 5.809h2.972c3.745 0 6.904 1.318 8.893 2.422C55.947 9.172 57 11.003 57 13.01v4.952c0 .515-.41.932-.915.932h-4.091C51.564 21.228 49.547 23 47.13 23s-4.433-1.772-4.864-4.107H15.677C15.247 21.228 13.23 23 10.813 23s-4.433-1.772-4.864-4.107h-.308C2.531 18.893 0 16.317 0 13.15V7.816c0-1.445 1.155-2.62 2.573-2.62z" fill="#64676D" fill-rule="evenodd"></path></svg>',
    'automobile' 		: '<svg xmlns="http://www.w3.org/2000/svg" width="57" height="23" viewBox="0 0 57 23"><path d="M1.83 13.15c0 2.14 1.71 3.879 3.811 3.879h.308c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h26.589c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h3.175v-4.02c0-1.323-.687-2.528-1.794-3.141-1.803-1.001-4.658-2.195-8.017-2.195H26.144v6.63c0 .515-.41.932-.915.932a.923.923 0 0 1-.916-.932V1.867c-4.507.035-8.524 1.353-11.37 2.631a4.99 4.99 0 0 0 3.349 1.311H22.3c.505 0 .915.417.915.932 0 .515-.41.932-.915.932h-6.008c-1.941 0-3.811-.863-5.099-2.327-1.624.849-2.576 1.524-2.601 1.542a.908.908 0 0 1-.53.171H2.574c-.409 0-.742.34-.742.757v5.335zm8.983 7.986c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zm36.317 0c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zM26.144 1.926V5.81h12.55c-2.858-1.5-7.514-3.505-12.55-3.883zm-23.57 3.27H7.78C9.158 4.262 15.914 0 24.496 0c8.661 0 16.417 4.836 17.89 5.809h2.972c3.745 0 6.904 1.318 8.893 2.422C55.947 9.172 57 11.003 57 13.01v4.952c0 .515-.41.932-.915.932h-4.091C51.564 21.228 49.547 23 47.13 23s-4.433-1.772-4.864-4.107H15.677C15.247 21.228 13.23 23 10.813 23s-4.433-1.772-4.864-4.107h-.308C2.531 18.893 0 16.317 0 13.15V7.816c0-1.445 1.155-2.62 2.573-2.62z" fill="#64676D" fill-rule="evenodd"></path></svg>',
    'auto'					: '<svg xmlns="http://www.w3.org/2000/svg" width="57" height="23" viewBox="0 0 57 23"><path d="M1.83 13.15c0 2.14 1.71 3.879 3.811 3.879h.308c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h26.589c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h3.175v-4.02c0-1.323-.687-2.528-1.794-3.141-1.803-1.001-4.658-2.195-8.017-2.195H26.144v6.63c0 .515-.41.932-.915.932a.923.923 0 0 1-.916-.932V1.867c-4.507.035-8.524 1.353-11.37 2.631a4.99 4.99 0 0 0 3.349 1.311H22.3c.505 0 .915.417.915.932 0 .515-.41.932-.915.932h-6.008c-1.941 0-3.811-.863-5.099-2.327-1.624.849-2.576 1.524-2.601 1.542a.908.908 0 0 1-.53.171H2.574c-.409 0-.742.34-.742.757v5.335zm8.983 7.986c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zm36.317 0c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zM26.144 1.926V5.81h12.55c-2.858-1.5-7.514-3.505-12.55-3.883zm-23.57 3.27H7.78C9.158 4.262 15.914 0 24.496 0c8.661 0 16.417 4.836 17.89 5.809h2.972c3.745 0 6.904 1.318 8.893 2.422C55.947 9.172 57 11.003 57 13.01v4.952c0 .515-.41.932-.915.932h-4.091C51.564 21.228 49.547 23 47.13 23s-4.433-1.772-4.864-4.107H15.677C15.247 21.228 13.23 23 10.813 23s-4.433-1.772-4.864-4.107h-.308C2.531 18.893 0 16.317 0 13.15V7.816c0-1.445 1.155-2.62 2.573-2.62z" fill="#64676D" fill-rule="evenodd"></path></svg>',
    'automobile-en' : '<svg xmlns="http://www.w3.org/2000/svg" width="57" height="23" viewBox="0 0 57 23"><path d="M1.83 13.15c0 2.14 1.71 3.879 3.811 3.879h.308c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h26.589c.43-2.335 2.447-4.108 4.864-4.108s4.433 1.773 4.864 4.108h3.175v-4.02c0-1.323-.687-2.528-1.794-3.141-1.803-1.001-4.658-2.195-8.017-2.195H26.144v6.63c0 .515-.41.932-.915.932a.923.923 0 0 1-.916-.932V1.867c-4.507.035-8.524 1.353-11.37 2.631a4.99 4.99 0 0 0 3.349 1.311H22.3c.505 0 .915.417.915.932 0 .515-.41.932-.915.932h-6.008c-1.941 0-3.811-.863-5.099-2.327-1.624.849-2.576 1.524-2.601 1.542a.908.908 0 0 1-.53.171H2.574c-.409 0-.742.34-.742.757v5.335zm8.983 7.986c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zm36.317 0c1.72 0 3.12-1.425 3.12-3.175 0-1.751-1.4-3.176-3.12-3.176-1.72 0-3.12 1.425-3.12 3.176 0 1.75 1.4 3.175 3.12 3.175zM26.144 1.926V5.81h12.55c-2.858-1.5-7.514-3.505-12.55-3.883zm-23.57 3.27H7.78C9.158 4.262 15.914 0 24.496 0c8.661 0 16.417 4.836 17.89 5.809h2.972c3.745 0 6.904 1.318 8.893 2.422C55.947 9.172 57 11.003 57 13.01v4.952c0 .515-.41.932-.915.932h-4.091C51.564 21.228 49.547 23 47.13 23s-4.433-1.772-4.864-4.107H15.677C15.247 21.228 13.23 23 10.813 23s-4.433-1.772-4.864-4.107h-.308C2.531 18.893 0 16.317 0 13.15V7.816c0-1.445 1.155-2.62 2.573-2.62z" fill="#64676D" fill-rule="evenodd"></path></svg>',
    'Transporter' 	: '<svg width="62" height="30" viewBox="0 0 62 30" xmlns="http://www.w3.org/2000/svg"><g fill="#64676D" fill-rule="evenodd"><path d="M48.788 10.885H38.472a.395.395 0 0 1-.395-.394V5.316c0-.217.177-.394.395-.394h7.125c.603 0 1.199.36 1.519.917l2.04 3.55c.254.442.388.828.388 1.115 0 .242-.124.381-.756.381zm-.01-5.994c-.654-1.142-1.903-1.88-3.18-1.88h-7.126a2.312 2.312 0 0 0-2.314 2.305v5.175a2.313 2.313 0 0 0 2.314 2.307h10.316c1.625 0 2.675-.9 2.675-2.294 0-.626-.217-1.32-.644-2.064l-2.04-3.549z"/><path d="M60.083 22.636c0 .514-.055.848-.167 1.022-.08.123-.316.149-.5.149h-2.538a5.422 5.422 0 0 0-5.363-4.61 5.422 5.422 0 0 0-5.362 4.61H35.616l-16.547-.16a5.424 5.424 0 0 0-10.652-.103l-.09-.002-4.983-1.633c-.696-.229-1.08-.465-1.246-.766-.178-.325-.222-.855-.146-1.78L2.76 4.668c.16-1.958.885-2.757 2.5-2.757h42.236c.736 0 1.234.3 1.663 1.003l4.92 8.063.124.159 5.173 5.18c.2.199.37.487.495.83.136.377.21.807.21 1.213v4.277zm-8.568 5.367a3.414 3.414 0 0 1-3.416-3.404 3.415 3.415 0 0 1 3.416-3.404 3.414 3.414 0 0 1 3.417 3.404 3.414 3.414 0 0 1-3.417 3.404zm-37.782 0a3.414 3.414 0 0 1-3.416-3.404 3.415 3.415 0 0 1 3.416-3.404 3.414 3.414 0 0 1 3.417 3.404 3.414 3.414 0 0 1-3.417 3.404zm47.939-11.506c-.221-.607-.546-1.135-.939-1.527l-5.076-5.08-4.865-7.965C50.012.647 48.904 0 47.497 0H5.262C2.618 0 1.092 1.562.849 4.523L.04 19.22c-.11 1.333 0 2.157.379 2.842.418.758 1.135 1.27 2.325 1.662l5.498 1.803h.152a5.423 5.423 0 0 0 10.672.04l27.135.103a5.425 5.425 0 0 0 10.62.04l2.594.01c.974 0 1.664-.337 2.112-1.03.323-.498.473-1.15.473-2.053V18.36c0-.617-.117-1.278-.328-1.862z"/></g></svg>',
    'transporteur' 	: '<svg width="62" height="30" viewBox="0 0 62 30" xmlns="http://www.w3.org/2000/svg"><g fill="#64676D" fill-rule="evenodd"><path d="M48.788 10.885H38.472a.395.395 0 0 1-.395-.394V5.316c0-.217.177-.394.395-.394h7.125c.603 0 1.199.36 1.519.917l2.04 3.55c.254.442.388.828.388 1.115 0 .242-.124.381-.756.381zm-.01-5.994c-.654-1.142-1.903-1.88-3.18-1.88h-7.126a2.312 2.312 0 0 0-2.314 2.305v5.175a2.313 2.313 0 0 0 2.314 2.307h10.316c1.625 0 2.675-.9 2.675-2.294 0-.626-.217-1.32-.644-2.064l-2.04-3.549z"/><path d="M60.083 22.636c0 .514-.055.848-.167 1.022-.08.123-.316.149-.5.149h-2.538a5.422 5.422 0 0 0-5.363-4.61 5.422 5.422 0 0 0-5.362 4.61H35.616l-16.547-.16a5.424 5.424 0 0 0-10.652-.103l-.09-.002-4.983-1.633c-.696-.229-1.08-.465-1.246-.766-.178-.325-.222-.855-.146-1.78L2.76 4.668c.16-1.958.885-2.757 2.5-2.757h42.236c.736 0 1.234.3 1.663 1.003l4.92 8.063.124.159 5.173 5.18c.2.199.37.487.495.83.136.377.21.807.21 1.213v4.277zm-8.568 5.367a3.414 3.414 0 0 1-3.416-3.404 3.415 3.415 0 0 1 3.416-3.404 3.414 3.414 0 0 1 3.417 3.404 3.414 3.414 0 0 1-3.417 3.404zm-37.782 0a3.414 3.414 0 0 1-3.416-3.404 3.415 3.415 0 0 1 3.416-3.404 3.414 3.414 0 0 1 3.417 3.404 3.414 3.414 0 0 1-3.417 3.404zm47.939-11.506c-.221-.607-.546-1.135-.939-1.527l-5.076-5.08-4.865-7.965C50.012.647 48.904 0 47.497 0H5.262C2.618 0 1.092 1.562.849 4.523L.04 19.22c-.11 1.333 0 2.157.379 2.842.418.758 1.135 1.27 2.325 1.662l5.498 1.803h.152a5.423 5.423 0 0 0 10.672.04l27.135.103a5.425 5.425 0 0 0 10.62.04l2.594.01c.974 0 1.664-.337 2.112-1.03.323-.498.473-1.15.473-2.053V18.36c0-.617-.117-1.278-.328-1.862z"/></g></svg>',
    'transporter-en' : '<svg width="62" height="30" viewBox="0 0 62 30" xmlns="http://www.w3.org/2000/svg"><g fill="#64676D" fill-rule="evenodd"><path d="M48.788 10.885H38.472a.395.395 0 0 1-.395-.394V5.316c0-.217.177-.394.395-.394h7.125c.603 0 1.199.36 1.519.917l2.04 3.55c.254.442.388.828.388 1.115 0 .242-.124.381-.756.381zm-.01-5.994c-.654-1.142-1.903-1.88-3.18-1.88h-7.126a2.312 2.312 0 0 0-2.314 2.305v5.175a2.313 2.313 0 0 0 2.314 2.307h10.316c1.625 0 2.675-.9 2.675-2.294 0-.626-.217-1.32-.644-2.064l-2.04-3.549z"/><path d="M60.083 22.636c0 .514-.055.848-.167 1.022-.08.123-.316.149-.5.149h-2.538a5.422 5.422 0 0 0-5.363-4.61 5.422 5.422 0 0 0-5.362 4.61H35.616l-16.547-.16a5.424 5.424 0 0 0-10.652-.103l-.09-.002-4.983-1.633c-.696-.229-1.08-.465-1.246-.766-.178-.325-.222-.855-.146-1.78L2.76 4.668c.16-1.958.885-2.757 2.5-2.757h42.236c.736 0 1.234.3 1.663 1.003l4.92 8.063.124.159 5.173 5.18c.2.199.37.487.495.83.136.377.21.807.21 1.213v4.277zm-8.568 5.367a3.414 3.414 0 0 1-3.416-3.404 3.415 3.415 0 0 1 3.416-3.404 3.414 3.414 0 0 1 3.417 3.404 3.414 3.414 0 0 1-3.417 3.404zm-37.782 0a3.414 3.414 0 0 1-3.416-3.404 3.415 3.415 0 0 1 3.416-3.404 3.414 3.414 0 0 1 3.417 3.404 3.414 3.414 0 0 1-3.417 3.404zm47.939-11.506c-.221-.607-.546-1.135-.939-1.527l-5.076-5.08-4.865-7.965C50.012.647 48.904 0 47.497 0H5.262C2.618 0 1.092 1.562.849 4.523L.04 19.22c-.11 1.333 0 2.157.379 2.842.418.758 1.135 1.27 2.325 1.662l5.498 1.803h.152a5.423 5.423 0 0 0 10.672.04l27.135.103a5.425 5.425 0 0 0 10.62.04l2.594.01c.974 0 1.664-.337 2.112-1.03.323-.498.473-1.15.473-2.053V18.36c0-.617-.117-1.278-.328-1.862z"/></g></svg>',
    'winterreifen' 	: '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="m20.597 15.712-1.376-.784.346-.604a.798.798 0 1 0-1.39-.79l-.346.603-5.217-2.974 5.217-2.972.346.604a.801.801 0 0 0 1.092.297.796.796 0 0 0 .298-1.088L19.22 7.4l1.376-.783a.797.797 0 0 0 .297-1.09.803.803 0 0 0-1.091-.297l-1.375.784-.345-.604a.802.802 0 0 0-1.092-.298.794.794 0 0 0-.298 1.088l.346.606L11.8 9.789V3.974h.697a.799.799 0 1 0 0-1.596H11.8V.798a.799.799 0 0 0-1.6 0v1.58h-.697a.799.799 0 1 0 0 1.596h.697V9.79L4.962 6.805l.345-.606a.796.796 0 0 0-.297-1.088.802.802 0 0 0-1.092.298l-.346.604-1.376-.784a.802.802 0 0 0-1.09.297.796.796 0 0 0 .298 1.09l1.376.783-.347.605a.796.796 0 0 0 .694 1.194.8.8 0 0 0 .695-.403l.346-.604 5.219 2.972-5.22 2.974-.345-.604a.803.803 0 0 0-1.092-.298.798.798 0 0 0-.297 1.089l.347.605-1.376.783a.796.796 0 0 0 .397 1.491c.135 0 .271-.033.395-.104l1.376-.784.346.604a.801.801 0 0 0 1.092.298.797.797 0 0 0 .297-1.09l-.345-.604L10.2 12.54v5.487h-.697a.799.799 0 1 0 0 1.595h.697v1.581a.799.799 0 0 0 1.6 0v-1.581h.697c.442 0 .8-.358.8-.798a.799.799 0 0 0-.8-.797H11.8v-5.487l5.239 2.984-.346.604a.796.796 0 0 0 .694 1.195.801.801 0 0 0 .696-.403l.345-.605 1.375.785a.8.8 0 0 0 1.091-.297.797.797 0 0 0-.297-1.09" fill="#63676E"/> <path d="M0 0h22v22H0z"/> </g></svg>',
    'Winter' 				: '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="m20.597 15.712-1.376-.784.346-.604a.798.798 0 1 0-1.39-.79l-.346.603-5.217-2.974 5.217-2.972.346.604a.801.801 0 0 0 1.092.297.796.796 0 0 0 .298-1.088L19.22 7.4l1.376-.783a.797.797 0 0 0 .297-1.09.803.803 0 0 0-1.091-.297l-1.375.784-.345-.604a.802.802 0 0 0-1.092-.298.794.794 0 0 0-.298 1.088l.346.606L11.8 9.789V3.974h.697a.799.799 0 1 0 0-1.596H11.8V.798a.799.799 0 0 0-1.6 0v1.58h-.697a.799.799 0 1 0 0 1.596h.697V9.79L4.962 6.805l.345-.606a.796.796 0 0 0-.297-1.088.802.802 0 0 0-1.092.298l-.346.604-1.376-.784a.802.802 0 0 0-1.09.297.796.796 0 0 0 .298 1.09l1.376.783-.347.605a.796.796 0 0 0 .694 1.194.8.8 0 0 0 .695-.403l.346-.604 5.219 2.972-5.22 2.974-.345-.604a.803.803 0 0 0-1.092-.298.798.798 0 0 0-.297 1.089l.347.605-1.376.783a.796.796 0 0 0 .397 1.491c.135 0 .271-.033.395-.104l1.376-.784.346.604a.801.801 0 0 0 1.092.298.797.797 0 0 0 .297-1.09l-.345-.604L10.2 12.54v5.487h-.697a.799.799 0 1 0 0 1.595h.697v1.581a.799.799 0 0 0 1.6 0v-1.581h.697c.442 0 .8-.358.8-.798a.799.799 0 0 0-.8-.797H11.8v-5.487l5.239 2.984-.346.604a.796.796 0 0 0 .694 1.195.801.801 0 0 0 .696-.403l.345-.605 1.375.785a.8.8 0 0 0 1.091-.297.797.797 0 0 0-.297-1.09" fill="#63676E"/> <path d="M0 0h22v22H0z"/> </g></svg>',
    'pneus-dhiver' 	: '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="m20.597 15.712-1.376-.784.346-.604a.798.798 0 1 0-1.39-.79l-.346.603-5.217-2.974 5.217-2.972.346.604a.801.801 0 0 0 1.092.297.796.796 0 0 0 .298-1.088L19.22 7.4l1.376-.783a.797.797 0 0 0 .297-1.09.803.803 0 0 0-1.091-.297l-1.375.784-.345-.604a.802.802 0 0 0-1.092-.298.794.794 0 0 0-.298 1.088l.346.606L11.8 9.789V3.974h.697a.799.799 0 1 0 0-1.596H11.8V.798a.799.799 0 0 0-1.6 0v1.58h-.697a.799.799 0 1 0 0 1.596h.697V9.79L4.962 6.805l.345-.606a.796.796 0 0 0-.297-1.088.802.802 0 0 0-1.092.298l-.346.604-1.376-.784a.802.802 0 0 0-1.09.297.796.796 0 0 0 .298 1.09l1.376.783-.347.605a.796.796 0 0 0 .694 1.194.8.8 0 0 0 .695-.403l.346-.604 5.219 2.972-5.22 2.974-.345-.604a.803.803 0 0 0-1.092-.298.798.798 0 0 0-.297 1.089l.347.605-1.376.783a.796.796 0 0 0 .397 1.491c.135 0 .271-.033.395-.104l1.376-.784.346.604a.801.801 0 0 0 1.092.298.797.797 0 0 0 .297-1.09l-.345-.604L10.2 12.54v5.487h-.697a.799.799 0 1 0 0 1.595h.697v1.581a.799.799 0 0 0 1.6 0v-1.581h.697c.442 0 .8-.358.8-.798a.799.799 0 0 0-.8-.797H11.8v-5.487l5.239 2.984-.346.604a.796.796 0 0 0 .694 1.195.801.801 0 0 0 .696-.403l.345-.605 1.375.785a.8.8 0 0 0 1.091-.297.797.797 0 0 0-.297-1.09" fill="#63676E"/> <path d="M0 0h22v22H0z"/> </g></svg>',
    'sommerreifen' 	: '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="M11 18.48c.486 0 .88.404.88.888v1.744a.883.883 0 0 1-.769.881L11 22a.888.888 0 0 1-.88-.888v-1.744c0-.453.333-.826.769-.881L11 18.48zm-5.38-2.27.09.08a.888.888 0 0 1-.005 1.25l-1.233 1.232a.883.883 0 0 1-1.16.085l-.09-.079a.888.888 0 0 1 .006-1.25l1.233-1.233a.883.883 0 0 1 1.16-.085zm11.92.085 1.232 1.233a.883.883 0 0 1 .085 1.16l-.079.09a.888.888 0 0 1-1.25-.006l-1.233-1.233a.883.883 0 0 1-.085-1.16l.08-.09a.888.888 0 0 1 1.25.006zM11 5.28a5.72 5.72 0 0 1 .22 11.436l-.22.004a5.72 5.72 0 1 1 0-11.44zm0 1.76a3.96 3.96 0 0 0-.198 7.915l.198.005a3.96 3.96 0 0 0 0-7.92zm10.112 3.08c.453 0 .826.333.881.769L22 11c0 .486-.404.88-.888.88h-1.744a.883.883 0 0 1-.881-.769L18.48 11c0-.486.404-.88.888-.88h1.744zm-18.48 0c.453 0 .826.333.881.769L3.52 11c0 .486-.404.88-.888.88H.888a.883.883 0 0 1-.881-.769L0 11c0-.486.404-.88.888-.88h1.744zm16.056-6.977.09.079a.888.888 0 0 1-.006 1.25L17.54 5.705a.883.883 0 0 1-1.16.085l-.09-.08a.888.888 0 0 1 .006-1.25l1.233-1.232a.883.883 0 0 1 1.16-.085zm-14.216.085L5.705 4.46a.883.883 0 0 1 .085 1.16l-.08.09a.888.888 0 0 1-1.25-.006L3.229 4.472a.883.883 0 0 1-.085-1.16l.079-.09a.888.888 0 0 1 1.25.006zM11 0c.486 0 .88.404.88.888v1.744a.883.883 0 0 1-.769.881L11 3.52a.888.888 0 0 1-.88-.888V.888c0-.453.333-.826.769-.881L11 0z" fill="#64676D" fill-rule="nonzero"/> <path d="M0 0h22v22H0z"/> </g> </svg>',
    'Summer' 				: '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="M11 18.48c.486 0 .88.404.88.888v1.744a.883.883 0 0 1-.769.881L11 22a.888.888 0 0 1-.88-.888v-1.744c0-.453.333-.826.769-.881L11 18.48zm-5.38-2.27.09.08a.888.888 0 0 1-.005 1.25l-1.233 1.232a.883.883 0 0 1-1.16.085l-.09-.079a.888.888 0 0 1 .006-1.25l1.233-1.233a.883.883 0 0 1 1.16-.085zm11.92.085 1.232 1.233a.883.883 0 0 1 .085 1.16l-.079.09a.888.888 0 0 1-1.25-.006l-1.233-1.233a.883.883 0 0 1-.085-1.16l.08-.09a.888.888 0 0 1 1.25.006zM11 5.28a5.72 5.72 0 0 1 .22 11.436l-.22.004a5.72 5.72 0 1 1 0-11.44zm0 1.76a3.96 3.96 0 0 0-.198 7.915l.198.005a3.96 3.96 0 0 0 0-7.92zm10.112 3.08c.453 0 .826.333.881.769L22 11c0 .486-.404.88-.888.88h-1.744a.883.883 0 0 1-.881-.769L18.48 11c0-.486.404-.88.888-.88h1.744zm-18.48 0c.453 0 .826.333.881.769L3.52 11c0 .486-.404.88-.888.88H.888a.883.883 0 0 1-.881-.769L0 11c0-.486.404-.88.888-.88h1.744zm16.056-6.977.09.079a.888.888 0 0 1-.006 1.25L17.54 5.705a.883.883 0 0 1-1.16.085l-.09-.08a.888.888 0 0 1 .006-1.25l1.233-1.232a.883.883 0 0 1 1.16-.085zm-14.216.085L5.705 4.46a.883.883 0 0 1 .085 1.16l-.08.09a.888.888 0 0 1-1.25-.006L3.229 4.472a.883.883 0 0 1-.085-1.16l.079-.09a.888.888 0 0 1 1.25.006zM11 0c.486 0 .88.404.88.888v1.744a.883.883 0 0 1-.769.881L11 3.52a.888.888 0 0 1-.88-.888V.888c0-.453.333-.826.769-.881L11 0z" fill="#64676D" fill-rule="nonzero"/> <path d="M0 0h22v22H0z"/> </g> </svg>',
    'pneus-dete' 		: '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="M11 18.48c.486 0 .88.404.88.888v1.744a.883.883 0 0 1-.769.881L11 22a.888.888 0 0 1-.88-.888v-1.744c0-.453.333-.826.769-.881L11 18.48zm-5.38-2.27.09.08a.888.888 0 0 1-.005 1.25l-1.233 1.232a.883.883 0 0 1-1.16.085l-.09-.079a.888.888 0 0 1 .006-1.25l1.233-1.233a.883.883 0 0 1 1.16-.085zm11.92.085 1.232 1.233a.883.883 0 0 1 .085 1.16l-.079.09a.888.888 0 0 1-1.25-.006l-1.233-1.233a.883.883 0 0 1-.085-1.16l.08-.09a.888.888 0 0 1 1.25.006zM11 5.28a5.72 5.72 0 0 1 .22 11.436l-.22.004a5.72 5.72 0 1 1 0-11.44zm0 1.76a3.96 3.96 0 0 0-.198 7.915l.198.005a3.96 3.96 0 0 0 0-7.92zm10.112 3.08c.453 0 .826.333.881.769L22 11c0 .486-.404.88-.888.88h-1.744a.883.883 0 0 1-.881-.769L18.48 11c0-.486.404-.88.888-.88h1.744zm-18.48 0c.453 0 .826.333.881.769L3.52 11c0 .486-.404.88-.888.88H.888a.883.883 0 0 1-.881-.769L0 11c0-.486.404-.88.888-.88h1.744zm16.056-6.977.09.079a.888.888 0 0 1-.006 1.25L17.54 5.705a.883.883 0 0 1-1.16.085l-.09-.08a.888.888 0 0 1 .006-1.25l1.233-1.232a.883.883 0 0 1 1.16-.085zm-14.216.085L5.705 4.46a.883.883 0 0 1 .085 1.16l-.08.09a.888.888 0 0 1-1.25-.006L3.229 4.472a.883.883 0 0 1-.085-1.16l.079-.09a.888.888 0 0 1 1.25.006zM11 0c.486 0 .88.404.88.888v1.744a.883.883 0 0 1-.769.881L11 3.52a.888.888 0 0 1-.88-.888V.888c0-.453.333-.826.769-.881L11 0z" fill="#64676D" fill-rule="nonzero"/> <path d="M0 0h22v22H0z"/> </g> </svg>',
    'allwetterreifen' : '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="M3.416 8.445c.404.109.657.502.603.908l-.02.102-.07.264 4.516 1.225c.071.02.139.051.199.094l.085.07 2.064 2.063a.827.827 0 0 1 .178.266l.035.101 1.217 4.511.263-.07a.824.824 0 0 1 1.005.583.82.82 0 0 1-.479.975l-.098.033-.261.07.358 1.328a.817.817 0 0 1-1.547.52l-.033-.098-.358-1.328-.262.07a.824.824 0 0 1-1.006-.584.82.82 0 0 1 .478-.974l.098-.033.262-.07L9.37 13.75l-3.422 3.446.193.194a.827.827 0 0 1 .005 1.165.814.814 0 0 1-1.074.07l-.084-.073-.193-.194-.962.97a.814.814 0 0 1-1.156-.005.828.828 0 0 1-.079-1.079l.073-.083.962-.97-.193-.193a.828.828 0 0 1-.005-1.165.813.813 0 0 1 1.074-.071l.084.074.194.194 3.422-3.447-4.697-1.275-.07.264a.814.814 0 0 1-1 .58.828.828 0 0 1-.602-.908l.02-.101.07-.265-1.321-.359a.828.828 0 0 1-.58-1.008.814.814 0 0 1 .897-.6l.1.02 1.322.358.069-.264a.813.813 0 0 1 1-.58zm12.746 8.135a.9.9 0 0 1 1.271-.001l1.274 1.268a.89.89 0 0 1 0 1.266.899.899 0 0 1-1.272 0l-1.274-1.267a.89.89 0 0 1 0-1.266zM11.128 5.773c2.577.415 4.657 2.486 5.074 5.051a6.141 6.141 0 0 1-1.152 4.723c-.271.36-.79.407-1.142.14l-.084-.073a.821.821 0 0 1-.065-1.078 4.518 4.518 0 0 0 .802-3.554c-.336-1.793-1.79-3.24-3.59-3.576a4.568 4.568 0 0 0-3.57.8.83.83 0 0 1-1.083-.066c-.348-.345-.326-.927.067-1.22a6.212 6.212 0 0 1 4.743-1.147zM21.1 10.3a.895.895 0 1 1 0 1.791h-1.8a.895.895 0 1 1 0-1.791zm-2.395-7.022a.89.89 0 0 1 .082 1.174l-.081.092-1.274 1.268a.899.899 0 0 1-1.353-1.175l.081-.092 1.274-1.268a.9.9 0 0 1 1.271 0zm-15.903 0a.899.899 0 0 1 1.271 0l1.274 1.267a.89.89 0 0 1 0 1.266.899.899 0 0 1-1.272 0L2.802 4.546a.89.89 0 0 1 0-1.266zM10.755 0c.496 0 .9.397.9.895v1.792c0 .495-.4.896-.9.896a.896.896 0 0 1-.9-.896V.895c0-.495.399-.895.9-.895z" fill="#64676D"/> <path d="M0 0h22v22H0z"/> </g> </svg>',
    'All Season' 	: '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="M3.416 8.445c.404.109.657.502.603.908l-.02.102-.07.264 4.516 1.225c.071.02.139.051.199.094l.085.07 2.064 2.063a.827.827 0 0 1 .178.266l.035.101 1.217 4.511.263-.07a.824.824 0 0 1 1.005.583.82.82 0 0 1-.479.975l-.098.033-.261.07.358 1.328a.817.817 0 0 1-1.547.52l-.033-.098-.358-1.328-.262.07a.824.824 0 0 1-1.006-.584.82.82 0 0 1 .478-.974l.098-.033.262-.07L9.37 13.75l-3.422 3.446.193.194a.827.827 0 0 1 .005 1.165.814.814 0 0 1-1.074.07l-.084-.073-.193-.194-.962.97a.814.814 0 0 1-1.156-.005.828.828 0 0 1-.079-1.079l.073-.083.962-.97-.193-.193a.828.828 0 0 1-.005-1.165.813.813 0 0 1 1.074-.071l.084.074.194.194 3.422-3.447-4.697-1.275-.07.264a.814.814 0 0 1-1 .58.828.828 0 0 1-.602-.908l.02-.101.07-.265-1.321-.359a.828.828 0 0 1-.58-1.008.814.814 0 0 1 .897-.6l.1.02 1.322.358.069-.264a.813.813 0 0 1 1-.58zm12.746 8.135a.9.9 0 0 1 1.271-.001l1.274 1.268a.89.89 0 0 1 0 1.266.899.899 0 0 1-1.272 0l-1.274-1.267a.89.89 0 0 1 0-1.266zM11.128 5.773c2.577.415 4.657 2.486 5.074 5.051a6.141 6.141 0 0 1-1.152 4.723c-.271.36-.79.407-1.142.14l-.084-.073a.821.821 0 0 1-.065-1.078 4.518 4.518 0 0 0 .802-3.554c-.336-1.793-1.79-3.24-3.59-3.576a4.568 4.568 0 0 0-3.57.8.83.83 0 0 1-1.083-.066c-.348-.345-.326-.927.067-1.22a6.212 6.212 0 0 1 4.743-1.147zM21.1 10.3a.895.895 0 1 1 0 1.791h-1.8a.895.895 0 1 1 0-1.791zm-2.395-7.022a.89.89 0 0 1 .082 1.174l-.081.092-1.274 1.268a.899.899 0 0 1-1.353-1.175l.081-.092 1.274-1.268a.9.9 0 0 1 1.271 0zm-15.903 0a.899.899 0 0 1 1.271 0l1.274 1.267a.89.89 0 0 1 0 1.266.899.899 0 0 1-1.272 0L2.802 4.546a.89.89 0 0 1 0-1.266zM10.755 0c.496 0 .9.397.9.895v1.792c0 .495-.4.896-.9.896a.896.896 0 0 1-.9-.896V.895c0-.495.399-.895.9-.895z" fill="#64676D"/> <path d="M0 0h22v22H0z"/> </g> </svg>',
    'pneus-toutes-saisons' : '<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <path d="M3.416 8.445c.404.109.657.502.603.908l-.02.102-.07.264 4.516 1.225c.071.02.139.051.199.094l.085.07 2.064 2.063a.827.827 0 0 1 .178.266l.035.101 1.217 4.511.263-.07a.824.824 0 0 1 1.005.583.82.82 0 0 1-.479.975l-.098.033-.261.07.358 1.328a.817.817 0 0 1-1.547.52l-.033-.098-.358-1.328-.262.07a.824.824 0 0 1-1.006-.584.82.82 0 0 1 .478-.974l.098-.033.262-.07L9.37 13.75l-3.422 3.446.193.194a.827.827 0 0 1 .005 1.165.814.814 0 0 1-1.074.07l-.084-.073-.193-.194-.962.97a.814.814 0 0 1-1.156-.005.828.828 0 0 1-.079-1.079l.073-.083.962-.97-.193-.193a.828.828 0 0 1-.005-1.165.813.813 0 0 1 1.074-.071l.084.074.194.194 3.422-3.447-4.697-1.275-.07.264a.814.814 0 0 1-1 .58.828.828 0 0 1-.602-.908l.02-.101.07-.265-1.321-.359a.828.828 0 0 1-.58-1.008.814.814 0 0 1 .897-.6l.1.02 1.322.358.069-.264a.813.813 0 0 1 1-.58zm12.746 8.135a.9.9 0 0 1 1.271-.001l1.274 1.268a.89.89 0 0 1 0 1.266.899.899 0 0 1-1.272 0l-1.274-1.267a.89.89 0 0 1 0-1.266zM11.128 5.773c2.577.415 4.657 2.486 5.074 5.051a6.141 6.141 0 0 1-1.152 4.723c-.271.36-.79.407-1.142.14l-.084-.073a.821.821 0 0 1-.065-1.078 4.518 4.518 0 0 0 .802-3.554c-.336-1.793-1.79-3.24-3.59-3.576a4.568 4.568 0 0 0-3.57.8.83.83 0 0 1-1.083-.066c-.348-.345-.326-.927.067-1.22a6.212 6.212 0 0 1 4.743-1.147zM21.1 10.3a.895.895 0 1 1 0 1.791h-1.8a.895.895 0 1 1 0-1.791zm-2.395-7.022a.89.89 0 0 1 .082 1.174l-.081.092-1.274 1.268a.899.899 0 0 1-1.353-1.175l.081-.092 1.274-1.268a.9.9 0 0 1 1.271 0zm-15.903 0a.899.899 0 0 1 1.271 0l1.274 1.267a.89.89 0 0 1 0 1.266.899.899 0 0 1-1.272 0L2.802 4.546a.89.89 0 0 1 0-1.266zM10.755 0c.496 0 .9.397.9.895v1.792c0 .495-.4.896-.9.896a.896.896 0 0 1-.9-.896V.895c0-.495.399-.895.9-.895z" fill="#64676D"/> <path d="M0 0h22v22H0z"/> </g> </svg>',
    'Offroad / SUV / 4x4' 	   : '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="51px" height="31px" viewBox="0 0 51 31" version="1.1"> <title>Fill 1</title> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Reifen-Listing_Desktop" transform="translate(-280.000000, -235.000000)" fill="#64676D"> <path d="M329.199188,257.928786 C329.199188,258.741407 328.547645,259.402467 327.746812,259.402467 L323.14891,259.402467 C322.838535,256.474747 320.389214,254.187258 317.422512,254.187258 C314.45581,254.187258 312.006489,256.474747 311.696115,259.402467 L296.771663,259.402467 C296.406092,256.534495 293.985405,254.311138 291.060752,254.311138 C288.133669,254.311138 285.71127,256.53824 285.348942,259.409776 L284.5075,259.411237 L284.505069,259.411237 C283.783202,259.411237 283.104466,259.126112 282.593748,258.608391 C282.0824,258.090123 281.800839,257.400742 281.800839,256.667328 L281.800839,245.927666 L296.297592,245.927666 C296.794893,245.927666 297.198011,245.51866 297.198011,245.014095 C297.198011,244.50953 296.794893,244.100525 296.297592,244.100525 L281.800839,244.100525 L281.800839,239.57095 C281.800839,238.057986 283.013974,236.827132 284.505159,236.827132 L298.728724,236.827132 L298.728724,255.829401 C298.728724,256.333966 299.131842,256.742972 299.629144,256.742972 C300.126445,256.742972 300.529563,256.333966 300.529563,255.829401 L300.529563,245.927666 L324.210594,245.927666 L324.210594,245.925839 C327.520446,246.011714 329.199188,247.958625 329.199188,251.718333 L329.199188,257.928786 Z M317.422512,264.04907 C315.239265,264.04907 313.463008,262.246869 313.463008,260.031734 C313.463008,257.8166 315.239265,256.014399 317.422512,256.014399 C319.605759,256.014399 321.382017,257.8166 321.382017,260.031734 C321.382017,262.246869 319.605759,264.04907 317.422512,264.04907 L317.422512,264.04907 Z M291.060752,264.172859 C288.877505,264.172859 287.101248,262.370749 287.101248,260.155615 C287.101248,257.940389 288.877505,256.138279 291.060752,256.138279 C293.243999,256.138279 295.020257,257.940389 295.020257,260.155615 C295.020257,262.370749 293.243999,264.172859 291.060752,264.172859 L291.060752,264.172859 Z M314.0264,240.945326 C314.522441,241.872874 315.03541,242.832032 315.806169,243.667858 C315.946095,243.81951 316.093133,243.962758 316.244494,244.100525 L300.529563,244.100525 L300.529563,236.827132 L307.462793,236.827132 C311.823974,236.827132 312.8446,238.735581 314.0264,240.945326 L314.0264,240.945326 Z M323.979907,244.094495 L320.904524,244.094495 C319.481862,244.094495 318.102869,243.484047 317.121232,242.419555 C316.508136,241.754749 316.071523,240.938291 315.609248,240.073871 C314.337315,237.695572 312.895654,234.999991 307.462793,234.999991 L284.505159,234.999991 C282.020991,234.999991 280,237.0505 280,239.57095 L280,256.667328 C280,257.889046 280.469119,259.037496 281.320915,259.900911 C282.171812,260.763505 283.302378,261.238379 284.505699,261.238379 L284.509841,261.238379 L285.400896,261.236826 C285.902339,263.944466 288.248652,265.999991 291.060752,265.999991 C293.875283,265.999991 296.223307,263.940812 296.721869,261.229608 L311.784356,261.229608 C312.33055,263.879603 314.650841,265.876211 317.422512,265.876211 C320.194183,265.876211 322.514474,263.879603 323.060669,261.229608 L327.746812,261.229608 C329.540627,261.229608 331.000027,259.748893 331.000027,257.928786 L331.000027,251.718333 C331.000027,246.873303 328.441305,244.094495 323.979907,244.094495 L323.979907,244.094495 Z" id="Fill-1"/> </g> </g> </svg>',
    'tout-terrain-suv-4x4' : '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="51px" height="31px" viewBox="0 0 51 31" version="1.1"> <title>Fill 1</title> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Reifen-Listing_Desktop" transform="translate(-280.000000, -235.000000)" fill="#64676D"> <path d="M329.199188,257.928786 C329.199188,258.741407 328.547645,259.402467 327.746812,259.402467 L323.14891,259.402467 C322.838535,256.474747 320.389214,254.187258 317.422512,254.187258 C314.45581,254.187258 312.006489,256.474747 311.696115,259.402467 L296.771663,259.402467 C296.406092,256.534495 293.985405,254.311138 291.060752,254.311138 C288.133669,254.311138 285.71127,256.53824 285.348942,259.409776 L284.5075,259.411237 L284.505069,259.411237 C283.783202,259.411237 283.104466,259.126112 282.593748,258.608391 C282.0824,258.090123 281.800839,257.400742 281.800839,256.667328 L281.800839,245.927666 L296.297592,245.927666 C296.794893,245.927666 297.198011,245.51866 297.198011,245.014095 C297.198011,244.50953 296.794893,244.100525 296.297592,244.100525 L281.800839,244.100525 L281.800839,239.57095 C281.800839,238.057986 283.013974,236.827132 284.505159,236.827132 L298.728724,236.827132 L298.728724,255.829401 C298.728724,256.333966 299.131842,256.742972 299.629144,256.742972 C300.126445,256.742972 300.529563,256.333966 300.529563,255.829401 L300.529563,245.927666 L324.210594,245.927666 L324.210594,245.925839 C327.520446,246.011714 329.199188,247.958625 329.199188,251.718333 L329.199188,257.928786 Z M317.422512,264.04907 C315.239265,264.04907 313.463008,262.246869 313.463008,260.031734 C313.463008,257.8166 315.239265,256.014399 317.422512,256.014399 C319.605759,256.014399 321.382017,257.8166 321.382017,260.031734 C321.382017,262.246869 319.605759,264.04907 317.422512,264.04907 L317.422512,264.04907 Z M291.060752,264.172859 C288.877505,264.172859 287.101248,262.370749 287.101248,260.155615 C287.101248,257.940389 288.877505,256.138279 291.060752,256.138279 C293.243999,256.138279 295.020257,257.940389 295.020257,260.155615 C295.020257,262.370749 293.243999,264.172859 291.060752,264.172859 L291.060752,264.172859 Z M314.0264,240.945326 C314.522441,241.872874 315.03541,242.832032 315.806169,243.667858 C315.946095,243.81951 316.093133,243.962758 316.244494,244.100525 L300.529563,244.100525 L300.529563,236.827132 L307.462793,236.827132 C311.823974,236.827132 312.8446,238.735581 314.0264,240.945326 L314.0264,240.945326 Z M323.979907,244.094495 L320.904524,244.094495 C319.481862,244.094495 318.102869,243.484047 317.121232,242.419555 C316.508136,241.754749 316.071523,240.938291 315.609248,240.073871 C314.337315,237.695572 312.895654,234.999991 307.462793,234.999991 L284.505159,234.999991 C282.020991,234.999991 280,237.0505 280,239.57095 L280,256.667328 C280,257.889046 280.469119,259.037496 281.320915,259.900911 C282.171812,260.763505 283.302378,261.238379 284.505699,261.238379 L284.509841,261.238379 L285.400896,261.236826 C285.902339,263.944466 288.248652,265.999991 291.060752,265.999991 C293.875283,265.999991 296.223307,263.940812 296.721869,261.229608 L311.784356,261.229608 C312.33055,263.879603 314.650841,265.876211 317.422512,265.876211 C320.194183,265.876211 322.514474,263.879603 323.060669,261.229608 L327.746812,261.229608 C329.540627,261.229608 331.000027,259.748893 331.000027,257.928786 L331.000027,251.718333 C331.000027,246.873303 328.441305,244.094495 323.979907,244.094495 L323.979907,244.094495 Z" id="Fill-1"/> </g> </g> </svg>',
}

const FilterReifenTop = ({filterData, searchParams, setProdsLoading}) => {

    const router = useRouter()
    const pathname = usePathname()

    // const [isDotChecked, setIDotisDotChecked] = useState(false);

    const topAllowedAttrs = {
        top: ['car', 'season'],
        bottom: ['width', 'height', 'zoll']
    }
   
    const topAllowedTerms = ['PKW', 'Transporter', 'Offroad / SUV / 4x4', 'Summer', 'Winter', 'All Season'];

    const handleClick = (e) => {

        if( e.target.classList.contains('pasif') ){
            return false
        }

        setProdsLoading(true)

        const tax = e.target.getAttribute('data-tax');
        const termSlug = e.target.getAttribute('data-slug');
       
        let cloneSearchParams = {...searchParams};

        // console.log('tax', tax);
        // console.log('termSlug', termSlug);

        // return false

        if( cloneSearchParams[tax] ){

            let allValues = cloneSearchParams[tax].split('§')

            if( allValues.includes(termSlug) ){
                allValues = allValues.filter( item => item != termSlug )
            }else{
                allValues.push(termSlug)
            }

            if( allValues.length == 0 ){
                delete cloneSearchParams[tax]
            }else{
                cloneSearchParams[tax] = allValues.join('§')
            }

        }else{
            cloneSearchParams[tax] = [termSlug]
        }

        

        const updatedUrl = `${pathname}?${new URLSearchParams(cloneSearchParams)}`;
        // console.log(updatedUrl);
        router.replace(updatedUrl, undefined, { shallow: true, scroll: false });

    }


    // useEffect( () => {

    //     let cloneSearchParams = {...searchParams};


    //     if( isDotChecked ){
    //         cloneSearchParams.dot = 'yes'
    //     }else{
    //         delete cloneSearchParams.dot
    //     }

    //     const updatedUrl = `${pathname}?${new URLSearchParams(cloneSearchParams)}`;
    //     router.replace(updatedUrl, undefined, { shallow: true, scroll: false });

    // }, [isDotChecked])

    // const handleDotChange = () => {
    //     setIDotisDotChecked(!isDotChecked);
       
    // };

    // const handleChange = (e) => {

    // }

    // function sortArrayOfObjectsAlphabetically(arr, property) {
    //     const newArray = [...arr];
      
    //     newArray.sort(function(a, b) {
    //         const stringA = a[property].toString().toLowerCase();
    //         const stringB = b[property].toString().toLowerCase();
    //         return stringA.localeCompare(stringB);
    //     });
      
    //     return newArray;
    // }

    return (
    
        <>
            

                <div className="mt-4">
                    <h2 className="font-bold text-md mb-2 text-alfa-black-2">Car Type</h2>
                    <ul className={`tax-terms`} data-tax={'car'}>
                    {
                        // Object.keys(filterData[tax]['f']).map( term => (
                        ['PKW', 'Transporter', 'Offroad / SUV / 4x4'].map( term => (
                         
                            <li 
                                key={term} 
                                className={` ${ ! isEmpty(filterData.car.f) && ! Object.keys(filterData.car.f).includes(term) ? 'pasif opacity-20' : '' } ${ ! isEmpty(filterData.car.d) && filterData.car.d.includes(term) ? 'selected' : '' }  p-4 bg-gray-100 mb-2 cursor-pointer bg-white rounded-lg flex justify-between items-center `}
                                data-tax={'car'}
                                data-slug={term}
                                onClick={ handleClick }
                            >
                                <div className="pointer-events-none text-alfa-red" dangerouslySetInnerHTML={{ __html: termIcons[term] }} />
                                <span className="pointer-events-none text-md text-alfa-gray-5 font-medium whitespace-nowrap ">{term}</span>
                            </li>

                        ))
                    }
                    </ul>
                </div>
                
                
                <div className="mt-4">
                    <h2 className="font-bold text-md mb-2 text-alfa-black-2">Season</h2>
                    <ul className={`tax-terms flex justify-between`} data-tax={'season'}>
                    {
                        // Object.keys(filterData[tax]['f']).map( term => (
                        ['Summer', 'Winter', 'All Season'].map( term => (
                         
                            <li 
                                key={term} 
                                className={` ${ ! isEmpty(filterData.season.f) && ! Object.keys(filterData.season.f).includes(term) ? 'pasif opacity-20' : '' } ${ ! isEmpty(filterData.season.d) && filterData.season.d.includes(term) ? 'selected' : '' }  w-[31%] flex flex-col items-center justify-between gap-y-[6px] pt-4 pb-3 bg-gray-100  mb-2 cursor-pointer bg-white rounded-lg flex justify-between items-center `}
                                data-tax={'season'}
                                data-slug={term}
                                onClick={ handleClick }
                            >
                                <div className="pointer-events-none text-alfa-red" dangerouslySetInnerHTML={{ __html: termIcons[term] }} />
                                <span className="pointer-events-none text-md text-alfa-gray-5 font-medium whitespace-nowrap">{term}</span>
                            </li>
                            
                        ))
                    }
                    </ul>
                </div>
                

            {/* 
            <div className="flex gap-2 justify-between">
                {
                    topAllowedAttrs.bottom.map( tax => (

                        <div key={tax} className="mt-4 flex-1">
                            <h2 className="font-bold text-md mb-2 text-alfa-black-400">{ tax.charAt(0).toUpperCase() + tax.slice(1) } </h2>
                            <select 
                                className="tax-terms w-full py-3 px-2 rounded-lg text-sm text-alfa-gray-600 focus:outline-0" 
                                data-tax={tax} 
                                data-filtertax={'filter_'+tax} 
                                // onChange={ handleChange }
                                // value={searchParams[tax]}
                            >
                                <option value="">All</option>
                            {
                                sortArrayOfObjectsAlphabetically(reqTerms[tax], 'name').map( term => (

                                    <option 
                                        key={term.term_id} 
                                        className={`term-item text-alfa-gray-600 bg-gray-300 p-4 mb-2 cursor-pointer bg-white rounded-lg flex justify-between items-center hover:text-alfa-red`}
                                        data-tax={tax}
                                        data-filtertax={`filter_${tax}`}
                                        data-termid={term.term_id}
                                        data-slug={term.slug}
                                        
                                    >
                                        {term.name}
                                    </option>
                                ))
                            }
                            </select>     
                        </div>
                    ))
                }
            </div>

            <div className="mt-6 mb-4">
                <div className="mt-4 flex justify-between">
                    <h2 className="font-bold text-md mb-2 text-alfa-black-400">DOT Reifen</h2>
                    <div>
                    <input
                        className="mr-2 mt-[0.3rem] h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-alfa-red-2 checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-alfa-red-2 checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12]  focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-alfa-red-2 checked:focus:bg-alfa-red-2 checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:bg-neutral-600 dark:after:bg-neutral-400 dark:checked:bg-alfa-red-2 dark:checked:after:bg-alfa-red-2 dark:focus:before:shadow-[3px_-1px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca]"
                        type="checkbox"
                        role="switch"
                        onChange={handleDotChange}
                        checked={isDotChecked}
                        id="flexSwitchCheckDefault"
                    />

                    </div>
                </div>
            </div> */}
            
        </>  
        
        
  )
}

export default FilterReifenTop